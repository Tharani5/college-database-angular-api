<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="main-box clearfix">
                <button class="btn btn-info" 
                    (click)="clickEvent('allStaffs')">Staff List
                </button>&nbsp; 
                <button class="btn btn-info" 
                    (click)="clickEvent('staffsByDepartment')">Search By Department
                </button>&nbsp; 
                <button class="btn btn-info" 
                    (click)="clickEvent('salaryTotalByDepartment')">Total Salary
                </button>&nbsp; 
                <button class="btn btn-info" data-toggle="modal" data-target="#addStaffModal">
                    Add Staff
                </button>
            </div>
        </div>
    </div>
</div>

<div [ngSwitch]="selectOption" >
    <div *ngSwitchCase="'allStaffs'" class="table-responsive">
        <table class="table user-list">
            <thead>
                <tr>
                    <th><span>ID</span></th>
                    <th><span>Name</span></th>
                    <th class="text-center"><span>Designation</span></th>
                    <th><span>Salary</span></th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let staffs of staff">
                    <td>
                        {{staffs.id}}
                    </td>
                    <td>
                        {{staffs.name}}
                    </td>
                    <td class="text-center">
                        {{staffs.designation}}
                    </td>
                    <td>
                        {{staffs.salary}}
                    </td>
                    <td style="width: 20%;">
                        <a href="javascript: void(0);" class="table-link" (click)="loadStaffData(staffs,1)" data-toggle="modal" data-target="#editStaffModal">
                            <span class="fa-stack">
                                <i class="fa fa-square fa-stack-2x"></i>
                                <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                        <a href="javascript: void(0);" class="table-link danger" (click)="setDeleteId(staffs.id,1)"  data-toggle="modal" data-target="#deleteStaffModal" >
                            <span class="fa-stack">
                                <i class="fa fa-square fa-stack-2x"></i>
                                <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                            </span>                           
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div *ngSwitchCase="'staffsByDepartment'" class="container">
        <br>Enter Department ID to fetch all staffs
        <br><input type="number" required min="1" max="7" #temp> &nbsp;
        <button class="btn-info" (click)="getStaffsByDepartment(temp.value)">Get List</button>
        <table *ngIf="staffslenght" class="table user-list">
            <thead>
                <tr>
                    <th><span>ID</span></th>
                    <th><span>Name</span></th>
                    <th class="text-center"><span>Designation</span></th>
                    <th><span>Salary</span></th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let staffs of staffsDepartment">
                    <td>
                        {{staffs.id}}
                    </td>
                    <td>
                        {{staffs.name}}
                    </td>
                    <td class="text-center">
                        {{staffs.designation}}
                    </td>
                    <td>
                        {{staffs.salary}}
                    </td>
                    <td style="width: 20%;">
                        <a href="javascript: void(0);" class="table-link" (click)="loadStaffData(staffs,2)"  data-toggle="modal" data-target="#editStaffModal">
                            <span class="fa-stack">
                                <i class="fa fa-square fa-stack-2x"></i>
                                <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                        <a href="javascript: void(0);" class="table-link danger" (click)="setDeleteId(staffs.id,2)"  data-toggle="modal" data-target="#deleteStaffModal" >
                            <span class="fa-stack">
                                <i class="fa fa-square fa-stack-2x"></i>
                                <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                            </span>                           
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>        
        <div *ngIf="set ===0 " class="container-fluid">
            No records found
        </div>
    </div>
    <div *ngSwitchCase="'salaryTotalByDepartment'" class="container">
        <br>Enter Department ID to give Total Salary of staffs<br>
        <input type="number" required min="1" max="4" #temp> &nbsp;
        <button class="btn-info" (click)="getSalaryTotalByDepartment(temp.value)">Get List</button>
          {{salaryTotal}}      
    </div>   
</div>


<div class="modal fade bd-example-modal-sm" id="addStaffModal" tabindex="-1" role="dialog" aria-labelledby="addStaffModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="addStaffModalLabel">Add Staff</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <form [formGroup]="staffForm" (ngSubmit)="addStaff()">                
                <div >
                    <label> Name:</label> <br>
                    <input type="text" required placeholder="Name" formControlName="name">                    
                </div>
                <div >
                    <label> Designation</label> <br>
                    <input type="text" required placeholder="Designation" formControlName="designation">                     
                </div>
                <div >
                    <label>Salary</label><br>
                    <input type="number" required placeholder="Salary" formControlName="salary">                  
                </div>            
                <div formGroupName="department">                
                    <label> Department ID</label><br>
                    <input type="number" required placeholder="Department Id" formControlName="id">                                    
                </div>
                <div class="modal-footer">
                    <button type="button" id="add-staff-form" class="btn btn-danger" data-dismiss="modal">Close</button>
                    <button [disabled]="staffForm.invalid" type="submit" class="btn btn-primary">Add</button>
                </div>
            </form>
         </div>
      </div>
    </div>
</div>

<div class="modal fade bd-example-modal-sm" id="deleteStaffModal" tabindex="-1" role="dialog" aria-labelledby="deleteStaffModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="deleteStaffModalLabel">Are you sure delete Staff Id: {{deleteStaffId}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">      
               <button type="button" id="delete-staff-form" class="btn btn-danger" data-dismiss="modal">No</button>&nbsp;
               <button type="submit" (click)="deleteStaff()" class="btn btn-primary" data-dismiss="modal">Yes</button>        
         </div>
      </div>
    </div>
</div>

<div class="modal fade bd-example-modal-sm" id="editStaffModal" tabindex="-1" role="dialog" aria-labelledby="editStaffModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="editStaffModalLabel">Edit Staff Details</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <form [formGroup]="editStaffForm" (ngSubmit)="updateStaff()">              
                <div >
                <label> Name:</label> <br>
                  <input type="text" required formControlName="name">                    
            </div>
            <div >
              <label> Designation</label> <br>
                  <input type="text" required formControlName="designation">                     
            </div>
            <div >
              <label>Salary</label><br>
                  <input type="number" required formControlName="salary">                  
            </div>
            <div formGroupName="department">                
                <label> Department ID</label><br>
                <input type="number" required formControlName="id">                                    
            </div>
            <div class="modal-footer">
               <button type="button" id="edit-staff-form" class="btn btn-danger" data-dismiss="modal">Close</button>
               <button [disabled]="editStaffForm.invalid" type="submit" class="btn btn-primary" >Save changes</button>
            </div>
            </form>
         </div>
      </div>
    </div>
</div>